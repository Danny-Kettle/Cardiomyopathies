import{_ as c,n as b,p as a,q as d,u as f,x as p,y as g,o as w,c as h,b as e,t as m,A as y,w as i,B as l}from"./index-82fd02e2.js";const x={data(){return{email:"",username:"",password:"",confirmPassword:"",firstName:"",lastName:"",isSignup:!0}},methods:{handleSubmit(){this.isSignup?(console.log(`Submitting sign up form with email: ${this.email}, username: ${this.username}, password: ${this.password}, confirm password: ${this.confirmPassword}, first name: ${this.firstName}, and last name: ${this.lastName}`),b(a,this.email,this.password).then(r=>{const s=r.user,n={email:this.email,username:this.username,firstName:this.firstName,lastName:this.lastName,institute:this.institute,role:"user"};return console.log("Firestore object:",d),console.log("User data:",n),f(p(d,"users",s.uid),n)}).then(()=>{alert("Successfully signed up! You will now be redirected to the login page."),this.$router.push("/login")}).catch(r=>{const s=r.code,n=r.message;console.log(`Signup error: ${s} - ${n}`),alert(`Signup error: ${s} - ${n}`)})):(console.log(`Submitting login form with username: ${this.username} and password: ${this.password}`),g(a,this.email,this.password).then(()=>{alert("Successfully logged in!"),this.$router.push("/")}).catch(r=>{const s=r.code,n=r.message;console.log(`Login error: ${s} - ${n}`),alert(`Login error: ${s} - ${n}`)}))}}},_={class:"h-full flex justify-center items-center"},v={class:"flex justify-center w-1/3 mb-8"},S={class:"bg-white shadow-md w-full rounded px-24 py-16"},N={class:"text-2xl font-semibold mb-4"},U={class:"mb-4"},k=e("label",{class:"block mb-2 text-gray-800",for:"email"},"Email",-1),V=e("label",{class:"block mb-2 text-gray-800",for:"username"},"Username",-1),q=e("label",{class:"block mb-2 text-gray-800",for:"password"},"Password",-1),P=e("label",{class:"block mb-2 text-gray-800",for:"confirm-password"},"Confirm Password",-1),A=e("label",{class:"block mb-2 text-gray-800",for:"first-name"},"First Name",-1),C=e("label",{class:"block mb-2 text-gray-800",for:"last-name"},"Last Name",-1),$=e("label",{class:"block mb-2 text-gray-800",for:"institute"},"Institute",-1),j={class:"flex justify-between items-center"},B=e("button",{class:"px-4 py-2 text-white rounded-md bg-blue-500 hover:bg-blue-600 focus:outline-none focus:bg-blue-600",type:"submit"},m("Sign Up"),-1);function E(r,s,n,L,t,u){return w(),h("div",_,[e("div",v,[e("div",S,[e("h2",N,m(t.isSignup?"Create Account":"Login"),1),e("form",{onSubmit:s[8]||(s[8]=y((...o)=>u.handleSubmit&&u.handleSubmit(...o),["prevent"]))},[e("div",U,[k,i(e("input",{class:"w-full p-2 border border-gray-400 rounded-md focus:outline-none focus:border-blue-400",type:"email",name:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=o=>t.email=o),required:""},null,512),[[l,t.email]])]),e("div",null,[V,i(e("input",{class:"w-full p-2 border border-gray-400 rounded-md focus:outline-none focus:border-blue-400",type:"text",name:"username",id:"username","onUpdate:modelValue":s[1]||(s[1]=o=>t.username=o),required:""},null,512),[[l,t.username]])]),e("div",null,[q,i(e("input",{class:"w-full p-2 border border-gray-400 rounded-md focus:outline-none focus:border-blue-400",type:"password",name:"password",id:"password","onUpdate:modelValue":s[2]||(s[2]=o=>t.password=o),required:""},null,512),[[l,t.password]])]),e("div",null,[P,i(e("input",{class:"w-full p-2 border border-gray-400 rounded-md focus:outline-none focus:border-blue-400",type:"password",name:"confirm-password",id:"confirm-password","onUpdate:modelValue":s[3]||(s[3]=o=>t.confirmPassword=o),required:""},null,512),[[l,t.confirmPassword]])]),e("div",null,[A,i(e("input",{class:"w-full p-2 border border-gray-400 rounded-md focus:outline-none focus:border-blue-400",type:"text",name:"first-name",id:"first-name","onUpdate:modelValue":s[4]||(s[4]=o=>t.firstName=o),required:""},null,512),[[l,t.firstName]])]),e("div",null,[C,i(e("input",{class:"w-full p-2 border border-gray-400 rounded-md focus:outline-none focus:border-blue-400",type:"text",name:"last-name",id:"last-name","onUpdate:modelValue":s[5]||(s[5]=o=>t.lastName=o),required:""},null,512),[[l,t.lastName]])]),e("div",null,[$,i(e("input",{class:"w-full p-2 border border-gray-400 rounded-md focus:outline-none focus:border-blue-400",type:"text",name:"institute",id:"institute","onUpdate:modelValue":s[6]||(s[6]=o=>r.institute=o),required:""},null,512),[[l,r.institute]])]),e("div",j,[B,e("button",{class:"text-blue-500 hover:text-blue-600 focus:outline-none",type:"button",onClick:s[7]||(s[7]=(...o)=>t.isSignup&&t.isSignup(...o))})])],32)])])])}const D=c(x,[["render",E]]);export{D as default};
